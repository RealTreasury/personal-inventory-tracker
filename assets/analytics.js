/*! Personal Inventory Tracker */
var PITAnalytics=(()=>{var b=Object.create;var w=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var H=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var L=(a=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(a,{get:(e,o)=>(typeof require!="undefined"?require:e)[o]}):a)(function(a){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var G=(a,e,o,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of O(e))!v.call(a,l)&&l!==o&&w(a,l,{get:()=>e[l],enumerable:!(d=U(e,l))||d.enumerable});return a};var P=(a,e,o)=>(o=a!=null?b(H(a)):{},G(e||!a||!a.__esModule?w(o,"default",{value:a,enumerable:!0}):o,a));var q=P(L("react")),T=L("react-dom/client");var u=P(L("react"));var h=L("react");var A=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,d)=>d?d.toUpperCase():o.toLowerCase()),k=a=>{let e=V(a);return e.charAt(0).toUpperCase()+e.slice(1)},S=(...a)=>a.filter((e,o,d)=>!!e&&e.trim()!==""&&d.indexOf(e)===o).join(" ").trim(),B=a=>{for(let e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var m=L("react");var D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var M=(0,m.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:l="",children:r,iconNode:p,...c},g)=>(0,m.createElement)("svg",{ref:g,...D,width:e,height:e,stroke:a,strokeWidth:d?Number(o)*24/Number(e):o,className:S("lucide",l),...!r&&!B(c)&&{"aria-hidden":"true"},...c},[...p.map(([t,f])=>(0,m.createElement)(t,f)),...Array.isArray(r)?r:[r]]));var n=(a,e)=>{let o=(0,h.forwardRef)(({className:d,...l},r)=>(0,h.createElement)(M,{ref:r,iconNode:e,className:S(`lucide-${A(k(a))}`,`lucide-${a}`,d),...l}));return o.displayName=k(a),o};var W=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s=n("circle-check-big",W);var E=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],I=n("package",E);var z=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i=n("triangle-alert",z);var X=({timeRange:a=30})=>{let[e,o]=(0,u.useState)("purchases"),[d,l]=(0,u.useState)([]);(0,u.useEffect)(()=>{(async()=>{var f,x;try{let C=await fetch(`${(f=window.pitApp)==null?void 0:f.restUrl}analytics?range=${a}`,{headers:{"X-WP-Nonce":(x=window.pitApp)==null?void 0:x.nonce}});if(C.ok){let y=await C.json();l(y.items)}}catch(C){}})()},[a]);let r=(0,u.useMemo)(()=>new Date(Date.now()-a*24*60*60*1e3),[a]),p=(0,u.useMemo)(()=>d.filter(t=>new Date(t.last_purchased)>=r),[d,r]),c=(0,u.useMemo)(()=>({purchases:{label:"Recent Purchases",icon:s,filter:()=>!0},lowStock:{label:"Low Stock",icon:i,filter:t=>t.current_qty<t.threshold},expired:{label:"Expired",icon:I,filter:t=>t.expiry&&new Date(t.expiry)<new Date}}),[]),g=(0,u.useMemo)(()=>{let t=c[e];return p.filter(f=>t.filter(f))},[p,c,e]);return u.default.createElement("div",{className:"space-y-6"},u.default.createElement("div",{className:"flex space-x-4"},Object.entries(c).map(([t,f])=>{let x=f.icon;return u.default.createElement("button",{key:t,onClick:()=>o(t),className:`flex items-center px-4 py-2 rounded-lg border transition-colors ${e===t?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`},u.default.createElement(x,{className:"h-5 w-5 mr-2"}),u.default.createElement("span",null,f.label),u.default.createElement("span",{className:"ml-2 text-sm text-gray-500"},p.filter(f.filter).length))})),u.default.createElement("div",null,u.default.createElement("ul",{className:"divide-y divide-gray-200"},g.map(t=>u.default.createElement("li",{key:t.id,className:"py-2 flex justify-between"},u.default.createElement("span",{className:"font-medium"},t.title),e==="purchases"&&u.default.createElement("span",{className:"text-sm text-gray-500"},new Date(t.last_purchased).toLocaleDateString()),e==="lowStock"&&u.default.createElement("span",{className:"text-sm text-gray-500"},t.current_qty,"/",t.threshold),e==="expired"&&u.default.createElement("span",{className:"text-sm text-gray-500"},t.expiry?new Date(t.expiry).toLocaleDateString():"N/A"))))))},F=X;var R=document.getElementById("pit-analytics");R&&(0,T.createRoot)(R).render(q.default.createElement(F,{timeRange:30}));})();
/*! Bundled license information:

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/circle-check-big.js:
lucide-react/dist/esm/icons/package.js:
lucide-react/dist/esm/icons/triangle-alert.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.541.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
