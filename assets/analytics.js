/*! Personal Inventory Tracker */
var PITAnalytics=(()=>{var q=Object.create;var g=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var b=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var L=(a=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(a,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):a)(function(a){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var O=(a,e,t,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of y(e))!U.call(a,l)&&l!==t&&g(a,l,{get:()=>e[l],enumerable:!(d=T(e,l))||d.enumerable});return a};var w=(a,e,t)=>(t=a!=null?q(b(a)):{},O(e||!a||!a.__esModule?g(t,"default",{value:a,enumerable:!0}):t,a));var M=w(L("react")),R=L("react-dom/client");var o=w(L("react"));var x=L("react");var k=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,d)=>d?d.toUpperCase():t.toLowerCase()),S=a=>{let e=H(a);return e.charAt(0).toUpperCase()+e.slice(1)},I=(...a)=>a.filter((e,t,d)=>!!e&&e.trim()!==""&&d.indexOf(e)===t).join(" ").trim(),P=a=>{for(let e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var m=L("react");var A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var B=(0,m.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:d,className:l="",children:f,iconNode:C,...u},r)=>(0,m.createElement)("svg",{ref:r,...A,width:e,height:e,stroke:a,strokeWidth:d?Number(t)*24/Number(e):t,className:I("lucide",l),...!f&&!P(u)&&{"aria-hidden":"true"},...u},[...C.map(([p,h])=>(0,m.createElement)(p,h)),...Array.isArray(f)?f:[f]]));var n=(a,e)=>{let t=(0,x.forwardRef)(({className:d,...l},f)=>(0,x.createElement)(B,{ref:f,iconNode:e,className:I(`lucide-${k(S(a))}`,`lucide-${a}`,d),...l}));return t.displayName=S(a),t};var v=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s=n("circle-check-big",v);var G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],i=n("circle-x",G);var W=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c=n("triangle-alert",W);var V=()=>{let[a,e]=(0,o.useState)([]),[t,d]=(0,o.useState)("purchases");(0,o.useEffect)(()=>{(async()=>{try{let r=await fetch("/wp-json/pit/v2/items");if(r.ok){let p=await r.json();e(p)}}catch(r){}})()},[]);let l=(0,o.useMemo)(()=>new Date(Date.now()-720*60*60*1e3),[]),f=(0,o.useMemo)(()=>({purchases:{label:"Recent Purchases",icon:s,filter:u=>new Date(u.last_purchased)>=l},lowStock:{label:"Low Stock",icon:c,filter:u=>u.current_qty<u.threshold},expired:{label:"Expired",icon:i,filter:u=>u.expiry&&new Date(u.expiry)<new Date}}),[l]),C=(0,o.useMemo)(()=>{let u=f[t];return a.filter(r=>u.filter(r))},[a,f,t]);return o.default.createElement("div",{className:"space-y-6"},o.default.createElement("div",{className:"flex space-x-4"},Object.entries(f).map(([u,r])=>{let p=r.icon;return o.default.createElement("button",{key:u,onClick:()=>d(u),className:`flex items-center px-4 py-2 rounded-lg border transition-colors ${t===u?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`},o.default.createElement(p,{className:"h-5 w-5 mr-2"}),o.default.createElement("span",null,r.label),o.default.createElement("span",{className:"ml-2 text-sm text-gray-500"},a.filter(r.filter).length))})),o.default.createElement("div",null,o.default.createElement("ul",{className:"divide-y divide-gray-200"},C.map(u=>o.default.createElement("li",{key:u.id,className:"py-2 flex justify-between"},o.default.createElement("span",{className:"font-medium"},u.title),t==="purchases"&&o.default.createElement("span",{className:"text-sm text-gray-500"},new Date(u.last_purchased).toLocaleDateString()),t==="lowStock"&&o.default.createElement("span",{className:"text-sm text-gray-500"},u.current_qty,"/",u.threshold),t==="expired"&&o.default.createElement("span",{className:"text-sm text-gray-500"},u.expiry?new Date(u.expiry).toLocaleDateString():"N/A"))))))},D=V;var F=document.getElementById("pit-analytics");if(F){let a=(0,R.createRoot)(F);(async()=>{var t,d;try{let l=await fetch(`${(t=window.pitApp)==null?void 0:t.restUrl}analytics`,{headers:{"X-WP-Nonce":(d=window.pitApp)==null?void 0:d.nonce}});if(l.ok){let f=await l.json();a.render(M.default.createElement(D,{items:f.items}))}}catch(l){}})()}})();
/*! Bundled license information:

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/circle-check-big.js:
lucide-react/dist/esm/icons/circle-x.js:
lucide-react/dist/esm/icons/triangle-alert.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.541.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
