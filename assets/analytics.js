/*! Personal Inventory Tracker */
var PITAnalytics=(()=>{var y=Object.create;var k=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty;var m=(a=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(a,{get:(e,o)=>(typeof require!="undefined"?require:e)[o]}):a)(function(a){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var v=(a,e,o,d)=>{if(e&&typeof e=="object"||typeof e=="function")for(let f of U(e))!H.call(a,f)&&f!==o&&k(a,f,{get:()=>e[f],enumerable:!(d=b(e,f))||d.enumerable});return a};var w=(a,e,o)=>(o=a!=null?y(O(a)):{},v(e||!a||!a.__esModule?k(o,"default",{value:a,enumerable:!0}):o,a));var R=w(m("react")),q=m("react-dom/client");var u=w(m("react"));var C=m("react");var P=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,d)=>d?d.toUpperCase():o.toLowerCase()),g=a=>{let e=G(a);return e.charAt(0).toUpperCase()+e.slice(1)},x=(...a)=>a.filter((e,o,d)=>!!e&&e.trim()!==""&&d.indexOf(e)===o).join(" ").trim(),A=a=>{for(let e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var I=m("react");var B={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var D=(0,I.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:f="",children:l,iconNode:r,...S},p)=>(0,I.createElement)("svg",{ref:p,...B,width:e,height:e,stroke:a,strokeWidth:d?Number(o)*24/Number(e):o,className:x("lucide",f),...!l&&!A(S)&&{"aria-hidden":"true"},...S},[...r.map(([h,t])=>(0,I.createElement)(h,t)),...Array.isArray(l)?l:[l]]));var n=(a,e)=>{let o=(0,C.forwardRef)(({className:d,...f},l)=>(0,C.createElement)(D,{ref:l,iconNode:e,className:x(`lucide-${P(g(a))}`,`lucide-${a}`,d),...f}));return o.displayName=g(a),o};var W=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],s=n("circle-check-big",W);var V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],i=n("circle-x",V);var E=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c=n("triangle-alert",E);var z=({items:a=[],purchaseTrends:e=[],timeRange:o=30})=>{let[d,f]=(0,u.useState)("purchases"),l=(0,u.useMemo)(()=>new Date(Date.now()-o*24*60*60*1e3),[o]),r=(0,u.useMemo)(()=>a.filter(t=>new Date(t.last_purchased)>=l),[a,l]),S=(0,u.useMemo)(()=>e.filter(t=>new Date(t.date)>=l),[e,l]),p=(0,u.useMemo)(()=>({purchases:{label:"Recent Purchases",icon:s,filter:()=>!0},lowStock:{label:"Low Stock",icon:c,filter:t=>t.current_qty<t.threshold},expired:{label:"Expired",icon:i,filter:t=>t.expiry&&new Date(t.expiry)<new Date}}),[]),h=(0,u.useMemo)(()=>{let t=p[d];return r.filter(L=>t.filter(L))},[r,p,d]);return u.default.createElement("div",{className:"space-y-6"},u.default.createElement("div",{className:"flex space-x-4"},Object.entries(p).map(([t,L])=>{let T=L.icon;return u.default.createElement("button",{key:t,onClick:()=>f(t),className:`flex items-center px-4 py-2 rounded-lg border transition-colors ${d===t?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`},u.default.createElement(T,{className:"h-5 w-5 mr-2"}),u.default.createElement("span",null,L.label),u.default.createElement("span",{className:"ml-2 text-sm text-gray-500"},r.filter(L.filter).length))})),u.default.createElement("div",null,u.default.createElement("ul",{className:"divide-y divide-gray-200"},h.map(t=>u.default.createElement("li",{key:t.id,className:"py-2 flex justify-between"},u.default.createElement("span",{className:"font-medium"},t.title),d==="purchases"&&u.default.createElement("span",{className:"text-sm text-gray-500"},new Date(t.last_purchased).toLocaleDateString()),d==="lowStock"&&u.default.createElement("span",{className:"text-sm text-gray-500"},t.current_qty,"/",t.threshold),d==="expired"&&u.default.createElement("span",{className:"text-sm text-gray-500"},t.expiry?new Date(t.expiry).toLocaleDateString():"N/A"))))))},F=z;var M=document.getElementById("pit-analytics");if(M){let a=(0,q.createRoot)(M),e=30;(async()=>{var d,f;try{let l=await fetch(`${(d=window.pitApp)==null?void 0:d.restUrl}analytics?range=${e}`,{headers:{"X-WP-Nonce":(f=window.pitApp)==null?void 0:f.nonce}});if(l.ok){let r=await l.json();a.render(R.default.createElement(F,{items:r.items,purchaseTrends:r.purchase_trends,timeRange:e}))}}catch(l){}})()}})();
/*! Bundled license information:

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/circle-check-big.js:
lucide-react/dist/esm/icons/circle-x.js:
lucide-react/dist/esm/icons/triangle-alert.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.541.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
