/*! Personal Inventory Tracker Enhanced */
var PITAdmin=(()=>{var w=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var d=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var y=(e,n)=>{for(var t in n)i(e,t,{get:n[t],enumerable:!0})},l=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of p(n))!g.call(e,o)&&o!==t&&i(e,o,{get:()=>n[o],enumerable:!(r=u(n,o))||r.enumerable});return e};var f=(e,n,t)=>(t=e!=null?w(m(e)):{},l(n||!e||!e.__esModule?i(t,"default",{value:e,enumerable:!0}):t,e)),x=e=>l(i({},"__esModule",{value:!0}),e);var h={};y(h,{bindOcrToInput:()=>s,extractItemSuggestions:()=>a});var c;function b(){return c||(c=(async()=>{try{return await import("https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.esm.min.js")}catch(e){console.warn("CDN load failed, attempting local fallback.");try{return await import("./tesseract.esm.min.js")}catch(n){throw console.error("Tesseract failed to load.",n),new Error("Failed to load OCR engine. Please check your internet connection or plugin installation.")}}})()),c}async function a(e,n=60){if(typeof window=="undefined")return console.warn("OCR is only supported in browser environments."),[];try{let t=await b(),{data:r}=await t.recognize(e,"eng");return r.lines.filter(o=>o.confidence>=n).map(o=>({text:o.text.trim(),confidence:o.confidence}))}catch(t){return console.warn(t.message),typeof window!="undefined"&&alert(t.message),[]}}function s(e,n,t=60){if(typeof window=="undefined"){console.warn("OCR binding skipped: not in a browser");return}e.addEventListener("change",async()=>{let[r]=e.files;if(r){let o=await a(r,t);n(o)}})}typeof window!="undefined"&&(window.adminExtractItemSuggestions=a,window.adminBindOcrToInput=s);return x(h);})();
