/*! Personal Inventory Tracker */
var PITOcrScanner=(()=>{var ka=Object.create;var Pe=Object.defineProperty;var Pa=Object.getOwnPropertyDescriptor;var Aa=Object.getOwnPropertyNames;var ya=Object.getPrototypeOf,ba=Object.prototype.hasOwnProperty;var _=(o=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(o,{get:(l,s)=>(typeof require!="undefined"?require:l)[s]}):o)(function(o){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+o+'" is not supported')});var L=(o,l)=>()=>(l||o((l={exports:{}}).exports,l),l.exports);var Ba=(o,l,s,f)=>{if(l&&typeof l=="object"||typeof l=="function")for(let p of Aa(l))!ba.call(o,p)&&p!==s&&Pe(o,p,{get:()=>l[p],enumerable:!(f=Pa(l,p))||f.enumerable});return o};var me=(o,l,s)=>(s=o!=null?ka(ya(o)):{},Ba(l||!o||!o.__esModule?Pe(s,"default",{value:o,enumerable:!0}):s,o));var Me=L((Yt,xe)=>{var Ie=(function(o){"use strict";var l=Object.prototype,s=l.hasOwnProperty,f=Object.defineProperty||function(e,a,u){e[a]=u.value},p,I=typeof Symbol=="function"?Symbol:{},M=I.iterator||"@@iterator",h=I.asyncIterator||"@@asyncIterator",b=I.toStringTag||"@@toStringTag";function g(e,a,u){return Object.defineProperty(e,a,{value:u,enumerable:!0,configurable:!0,writable:!0}),e[a]}try{g({},"")}catch(e){g=function(a,u,d){return a[u]=d}}function F(e,a,u,d){var r=a&&a.prototype instanceof x?a:x,c=Object.create(r.prototype),B=new E(d||[]);return f(c,"_invoke",{value:z(e,u,B)}),c}o.wrap=F;function m(e,a,u){try{return{type:"normal",arg:e.call(a,u)}}catch(d){return{type:"throw",arg:d}}}var S="suspendedStart",A="suspendedYield",y="executing",T="completed",C={};function x(){}function w(){}function q(){}var H={};g(H,M,function(){return this});var V=Object.getPrototypeOf,G=V&&V(V(i([])));G&&G!==l&&s.call(G,M)&&(H=G);var R=q.prototype=x.prototype=Object.create(H);w.prototype=q,f(R,"constructor",{value:q,configurable:!0}),f(q,"constructor",{value:w,configurable:!0}),w.displayName=g(q,b,"GeneratorFunction");function J(e){["next","throw","return"].forEach(function(a){g(e,a,function(u){return this._invoke(a,u)})})}o.isGeneratorFunction=function(e){var a=typeof e=="function"&&e.constructor;return a?a===w||(a.displayName||a.name)==="GeneratorFunction":!1},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,q):(e.__proto__=q,g(e,b,"GeneratorFunction")),e.prototype=Object.create(R),e},o.awrap=function(e){return{__await:e}};function O(e,a){function u(c,B,k,D){var v=m(e[c],e,B);if(v.type==="throw")D(v.arg);else{var pe=v.arg,Y=pe.value;return Y&&typeof Y=="object"&&s.call(Y,"__await")?a.resolve(Y.__await).then(function(K){u("next",K,k,D)},function(K){u("throw",K,k,D)}):a.resolve(Y).then(function(K){pe.value=K,k(pe)},function(K){return u("throw",K,k,D)})}}var d;function r(c,B){function k(){return new a(function(D,v){u(c,B,D,v)})}return d=d?d.then(k,k):k()}f(this,"_invoke",{value:r})}J(O.prototype),g(O.prototype,h,function(){return this}),o.AsyncIterator=O,o.async=function(e,a,u,d,r){r===void 0&&(r=Promise);var c=new O(F(e,a,u,d),r);return o.isGeneratorFunction(a)?c:c.next().then(function(B){return B.done?B.value:c.next()})};function z(e,a,u){var d=S;return function(c,B){if(d===y)throw new Error("Generator is already running");if(d===T){if(c==="throw")throw B;return n()}for(u.method=c,u.arg=B;;){var k=u.delegate;if(k){var D=Q(k,u);if(D){if(D===C)continue;return D}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(d===S)throw d=T,u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);d=y;var v=m(e,a,u);if(v.type==="normal"){if(d=u.done?T:A,v.arg===C)continue;return{value:v.arg,done:u.done}}else v.type==="throw"&&(d=T,u.method="throw",u.arg=v.arg)}}}function Q(e,a){var u=a.method,d=e.iterator[u];if(d===p)return a.delegate=null,u==="throw"&&e.iterator.return&&(a.method="return",a.arg=p,Q(e,a),a.method==="throw")||u!=="return"&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+u+"' method")),C;var r=m(d,e.iterator,a.arg);if(r.type==="throw")return a.method="throw",a.arg=r.arg,a.delegate=null,C;var c=r.arg;if(!c)return a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,C;if(c.done)a[e.resultName]=c.value,a.next=e.nextLoc,a.method!=="return"&&(a.method="next",a.arg=p);else return c;return a.delegate=null,C}J(R),g(R,b,"Generator"),g(R,M,function(){return this}),g(R,"toString",function(){return"[object Generator]"});function $(e){var a={tryLoc:e[0]};1 in e&&(a.catchLoc=e[1]),2 in e&&(a.finallyLoc=e[2],a.afterLoc=e[3]),this.tryEntries.push(a)}function X(e){var a=e.completion||{};a.type="normal",delete a.arg,e.completion=a}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}o.keys=function(e){var a=Object(e),u=[];for(var d in a)u.push(d);return u.reverse(),function r(){for(;u.length;){var c=u.pop();if(c in a)return r.value=c,r.done=!1,r}return r.done=!0,r}};function i(e){if(e){var a=e[M];if(a)return a.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var u=-1,d=function r(){for(;++u<e.length;)if(s.call(e,u))return r.value=e[u],r.done=!1,r;return r.value=p,r.done=!0,r};return d.next=d}}return{next:n}}o.values=i;function n(){return{value:p,done:!0}}return E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(X),!e)for(var a in this)a.charAt(0)==="t"&&s.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=p)},stop:function(){this.done=!0;var e=this.tryEntries[0],a=e.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function u(D,v){return c.type="throw",c.arg=e,a.next=D,v&&(a.method="next",a.arg=p),!!v}for(var d=this.tryEntries.length-1;d>=0;--d){var r=this.tryEntries[d],c=r.completion;if(r.tryLoc==="root")return u("end");if(r.tryLoc<=this.prev){var B=s.call(r,"catchLoc"),k=s.call(r,"finallyLoc");if(B&&k){if(this.prev<r.catchLoc)return u(r.catchLoc,!0);if(this.prev<r.finallyLoc)return u(r.finallyLoc)}else if(B){if(this.prev<r.catchLoc)return u(r.catchLoc,!0)}else if(k){if(this.prev<r.finallyLoc)return u(r.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(e,a){for(var u=this.tryEntries.length-1;u>=0;--u){var d=this.tryEntries[u];if(d.tryLoc<=this.prev&&s.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var r=d;break}}r&&(e==="break"||e==="continue")&&r.tryLoc<=a&&a<=r.finallyLoc&&(r=null);var c=r?r.completion:{};return c.type=e,c.arg=a,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(c)},complete:function(e,a){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&a&&(this.next=a),C},finish:function(e){for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a];if(u.finallyLoc===e)return this.complete(u.completion,u.afterLoc),X(u),C}},catch:function(e){for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a];if(u.tryLoc===e){var d=u.completion;if(d.type==="throw"){var r=d.arg;X(u)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,u){return this.delegate={iterator:i(e),resultName:a,nextLoc:u},this.method==="next"&&(this.arg=p),C}},o})(typeof xe=="object"?xe.exports:{});try{regeneratorRuntime=Ie}catch(o){typeof globalThis=="object"?globalThis.regeneratorRuntime=Ie:Function("r","regeneratorRuntime = r")(Ie)}});var ie=L((eo,Fe)=>{"use strict";Fe.exports=(o,l)=>`${o}-${l}-${Math.random().toString(16).slice(3,8)}`});var Ce=L((ao,ve)=>{"use strict";var Ga=ie(),De=0;ve.exports=({id:o,action:l,payload:s={}})=>{let f=o;return typeof f=="undefined"&&(f=Ga("Job",De),De+=1),{id:f,action:l,payload:s}}});var ce=L(re=>{"use strict";var he=!1;re.logging=he;re.setLogging=o=>{he=o};re.log=(...o)=>he?console.log.apply(re,o):null});var Oe=L((qe,Re)=>{"use strict";var Ea=Ce(),{log:ne}=ce(),Na=ie(),Te=0;Re.exports=()=>{let o=Na("Scheduler",Te),l={},s={},f=[];Te+=1;let p=()=>f.length,I=()=>Object.keys(l).length,M=()=>{if(f.length!==0){let m=Object.keys(l);for(let S=0;S<m.length;S+=1)if(typeof s[m[S]]=="undefined"){f[0](l[m[S]]);break}}},h=(m,S)=>new Promise((A,y)=>{let T=Ea({action:m,payload:S});f.push(async C=>{f.shift(),s[C.id]=T;try{A(await C[m].apply(qe,[...S,T.id]))}catch(x){y(x)}finally{delete s[C.id],M()}}),ne(`[${o}]: Add ${T.id} to JobQueue`),ne(`[${o}]: JobQueue length=${f.length}`),M()});return{addWorker:m=>(l[m.id]=m,ne(`[${o}]: Add ${m.id}`),ne(`[${o}]: Number of workers=${I()}`),M(),m.id),addJob:async(m,...S)=>{if(I()===0)throw Error(`[${o}]: You need to have at least one worker before adding jobs`);return h(m,S)},terminate:async()=>{Object.keys(l).forEach(async m=>{await l[m].terminate()}),f=[]},getQueueLen:p,getNumWorkers:I}}});var He=L((oo,Ue)=>{"use strict";Ue.exports=o=>{let l={};return typeof WorkerGlobalScope!="undefined"?l.type="webworker":typeof document=="object"?l.type="browser":typeof process=="object"&&typeof _=="function"&&(l.type="node"),typeof o=="undefined"?l:l[o]}});var Ee=L((lo,Ge)=>{"use strict";var Wa=He()("type")==="browser",Va=Wa?o=>new URL(o,window.location.href).href:o=>o;Ge.exports=o=>{let l={...o};return["corePath","workerPath","langPath"].forEach(s=>{o[s]&&(l[s]=Va(l[s]))}),l}});var ge=L((ro,Ne)=>{"use strict";Ne.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}});var We=L((so,za)=>{za.exports={name:"tesseract.js",version:"6.0.1",description:"Pure Javascript Multilingual OCR",main:"src/index.js",type:"commonjs",types:"src/index.d.ts",unpkg:"dist/tesseract.min.js",jsdelivr:"dist/tesseract.min.js",scripts:{start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser:{"./src/worker/node/index.js":"./src/worker/browser/index.js"},author:"",contributors:["jeromewu"],license:"Apache-2.0",devDependencies:{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies:{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides:{"@rollup/pluginutils":"^5.0.2"},repository:{type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs:{url:"https://github.com/naptha/tesseract.js/issues"},homepage:"https://github.com/naptha/tesseract.js",collective:{type:"opencollective",url:"https://opencollective.com/tesseractjs"}}});var ze=L((fo,Ve)=>{"use strict";Ve.exports={workerBlobURL:!0,logger:()=>{}}});var Ke=L((io,Xe)=>{"use strict";var Xa=We().version,Ka=ze();Xe.exports={...Ka,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${Xa}/dist/worker.min.js`}});var je=L((co,_e)=>{"use strict";_e.exports=({workerPath:o,workerBlobURL:l})=>{let s;if(Blob&&URL&&l){let f=new Blob([`importScripts("${o}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(f))}else s=new Worker(o);return s}});var Je=L((no,Ze)=>{"use strict";Ze.exports=o=>{o.terminate()}});var $e=L((po,Qe)=>{"use strict";Qe.exports=(o,l)=>{o.onmessage=({data:s})=>{l(s)}}});var ea=L((mo,Ye)=>{"use strict";Ye.exports=async(o,l)=>{o.postMessage(l)}});var ta=L((Lo,aa)=>{"use strict";var Se=o=>new Promise((l,s)=>{let f=new FileReader;f.onload=()=>{l(f.result)},f.onerror=({target:{error:{code:p}}})=>{s(Error(`File could not be read! Code=${p}`))},f.readAsArrayBuffer(o)}),we=async o=>{let l=o;if(typeof o=="undefined")return"undefined";if(typeof o=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(o)?l=atob(o.split(",")[1]).split("").map(s=>s.charCodeAt(0)):l=await(await fetch(o)).arrayBuffer();else if(typeof HTMLElement!="undefined"&&o instanceof HTMLElement)o.tagName==="IMG"&&(l=await we(o.src)),o.tagName==="VIDEO"&&(l=await we(o.poster)),o.tagName==="CANVAS"&&await new Promise(s=>{o.toBlob(async f=>{l=await Se(f),s()})});else if(typeof OffscreenCanvas!="undefined"&&o instanceof OffscreenCanvas){let s=await o.convertToBlob();l=await Se(s)}else(o instanceof File||o instanceof Blob)&&(l=await Se(o));return new Uint8Array(l)};aa.exports=we});var ua=L((Io,oa)=>{"use strict";var _a=Ke(),ja=je(),Za=Je(),Ja=$e(),Qa=ea(),$a=ta();oa.exports={defaultOptions:_a,spawnWorker:ja,terminateWorker:Za,onMessage:Ja,send:Qa,loadImage:$a}});var ke=L((xo,sa)=>{"use strict";var Ya=Ee(),U=Ce(),{log:la}=ce(),et=ie(),Z=ge(),{defaultOptions:at,spawnWorker:tt,terminateWorker:ot,onMessage:ut,loadImage:da,send:lt}=ua(),ra=0;sa.exports=async(o="eng",l=Z.LSTM_ONLY,s={},f={})=>{let p=et("Worker",ra),{logger:I,errorHandler:M,...h}=Ya({...at,...s}),b={},g=typeof o=="string"?o.split("+"):o,F=l,m=f,S=[Z.DEFAULT,Z.LSTM_ONLY].includes(l)&&!h.legacyCore,A,y,T=new Promise((e,a)=>{y=e,A=a}),C=e=>{A(e.message)},x=tt(h);x.onerror=C,ra+=1;let w=({id:e,action:a,payload:u})=>new Promise((d,r)=>{la(`[${p}]: Start ${e}, action=${a}`);let c=`${a}-${e}`;b[c]={resolve:d,reject:r},lt(x,{workerId:p,jobId:e,action:a,payload:u})}),q=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),H=e=>w(U({id:e,action:"load",payload:{options:{lstmOnly:S,corePath:h.corePath,logging:h.logging}}})),V=(e,a,u)=>w(U({id:u,action:"FS",payload:{method:"writeFile",args:[e,a]}})),G=(e,a)=>w(U({id:a,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),R=(e,a)=>w(U({id:a,action:"FS",payload:{method:"unlink",args:[e]}})),J=(e,a,u)=>w(U({id:u,action:"FS",payload:{method:e,args:a}})),O=(e,a)=>w(U({id:a,action:"loadLanguage",payload:{langs:e,options:{langPath:h.langPath,dataPath:h.dataPath,cachePath:h.cachePath,cacheMethod:h.cacheMethod,gzip:h.gzip,lstmOnly:[Z.DEFAULT,Z.LSTM_ONLY].includes(F)&&!h.legacyLang}}})),z=(e,a,u,d)=>w(U({id:d,action:"initialize",payload:{langs:e,oem:a,config:u}})),Q=(e="eng",a,u,d)=>{if(S&&[Z.TESSERACT_ONLY,Z.TESSERACT_LSTM_COMBINED].includes(a))throw Error("Legacy model requested but code missing.");let r=a||F;F=r;let c=u||m;m=c;let k=(typeof e=="string"?e.split("+"):e).filter(D=>!g.includes(D));return g.push(...k),k.length>0?O(k,d).then(()=>z(e,r,c,d)):z(e,r,c,d)},$=(e={},a)=>w(U({id:a,action:"setParameters",payload:{params:e}})),X=async(e,a={},u={text:!0},d)=>w(U({id:d,action:"recognize",payload:{image:await da(e),options:a,output:u}})),E=async(e,a)=>{if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(U({id:a,action:"detect",payload:{image:await da(e)}}))},i=async()=>(x!==null&&(ot(x),x=null),Promise.resolve());ut(x,({workerId:e,jobId:a,status:u,action:d,data:r})=>{let c=`${d}-${a}`;if(u==="resolve")la(`[${e}]: Complete ${a}`),b[c].resolve({jobId:a,data:r}),delete b[c];else if(u==="reject")if(b[c].reject(r),delete b[c],d==="load"&&A(r),M)M(r);else throw Error(r);else u==="progress"&&I({...r,userJobId:a})});let n={id:p,worker:x,load:q,writeText:V,readText:G,removeFile:R,FS:J,reinitialize:Q,setParameters:$,recognize:X,detect:E,terminate:i};return H().then(()=>O(o)).then(()=>z(o,l,f)).then(()=>y(n)).catch(()=>{}),T}});var ca=L((Co,ia)=>{"use strict";var fa=ke(),dt=async(o,l,s)=>{let f=await fa(l,1,s);return f.recognize(o).finally(async()=>{await f.terminate()})},rt=async(o,l)=>{let s=await fa("osd",0,l);return s.detect(o).finally(async()=>{await s.terminate()})};ia.exports={recognize:dt,detect:rt}});var pa=L((ho,na)=>{"use strict";na.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}});var La=L((go,ma)=>{"use strict";ma.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}});var xa=L((So,Ia)=>{"use strict";Me();var st=Oe(),ft=ke(),it=ca(),ct=pa(),nt=ge(),pt=La(),{setLogging:mt}=ce();Ia.exports={languages:ct,OEM:nt,PSM:pt,createScheduler:st,createWorker:ft,setLogging:mt,...it}});var Sa=me(_("react")),wa=_("react-dom/client");var t=me(_("react"));var fe=_("react");var Ae=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ma=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(l,s,f)=>f?f.toUpperCase():s.toLowerCase()),Le=o=>{let l=Ma(o);return l.charAt(0).toUpperCase()+l.slice(1)},se=(...o)=>o.filter((l,s,f)=>!!l&&l.trim()!==""&&f.indexOf(l)===s).join(" ").trim(),ye=o=>{for(let l in o)if(l.startsWith("aria-")||l==="role"||l==="title")return!0};var ee=_("react");var be={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var Be=(0,ee.forwardRef)(({color:o="currentColor",size:l=24,strokeWidth:s=2,absoluteStrokeWidth:f,className:p="",children:I,iconNode:M,...h},b)=>(0,ee.createElement)("svg",{ref:b,...be,width:l,height:l,stroke:o,strokeWidth:f?Number(s)*24/Number(l):s,className:se("lucide",p),...!I&&!ye(h)&&{"aria-hidden":"true"},...h},[...M.map(([g,F])=>(0,ee.createElement)(g,F)),...Array.isArray(I)?I:[I]]));var P=(o,l)=>{let s=(0,fe.forwardRef)(({className:f,...p},I)=>(0,fe.createElement)(Be,{ref:I,iconNode:l,className:se(`lucide-${Ae(Le(o))}`,`lucide-${o}`,f),...p}));return s.displayName=Le(o),s};var Fa=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ae=P("camera",Fa);var Da=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],te=P("check",Da);var va=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],N=P("circle-alert",va);var Ta=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],W=P("loader-circle",Ta);var qa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oe=P("plus",qa);var Ra=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ue=P("settings",Ra);var Oa=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],le=P("upload",Oa);var Ua=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j=P("x",Ua);var Ha=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],de=P("zap",Ha);var Lt=({onItemsExtracted:o,items:l=[]})=>{let[s,f]=(0,t.useState)(!1),[p,I]=(0,t.useState)([]),[M,h]=(0,t.useState)(null),[b,g]=(0,t.useState)(null),[F,m]=(0,t.useState)(60),[S,A]=(0,t.useState)(""),[y,T]=(0,t.useState)({language:"eng",psm:"6",oem:"1",whitelist:"",blacklist:""}),C=(0,t.useRef)(null),x=(0,t.useRef)(null),w=(0,t.useRef)(null),q=async()=>{try{let i=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});x.current&&(x.current.srcObject=i)}catch(i){console.error("Camera access failed:",i),alert("Camera access failed. Please use file upload instead.")}},H=()=>{var i;(i=x.current)!=null&&i.srcObject&&(x.current.srcObject.getTracks().forEach(a=>a.stop()),x.current.srcObject=null)},V=()=>{let i=w.current,n=x.current;if(i&&n){let e=i.getContext("2d");i.width=n.videoWidth,i.height=n.videoHeight,e.drawImage(n,0,0),i.toBlob(a=>{R(a),H()},"image/jpeg",.9)}},G=i=>{let n=i.target.files[0];if(n&&n.type.startsWith("image/")){h(n);let e=new FileReader;e.onload=a=>g(a.target.result),e.readAsDataURL(n),R(n)}},R=async i=>{f(!0),I([]),A("Initializing...");try{let n=await Promise.resolve().then(()=>me(xa()));A("Loading OCR engine...");let e=await n.createWorker({logger:({status:d,progress:r})=>{A(d==="recognizing text"?`Recognizing text... ${Math.round(r*100)}%`:d)}});A("Configuring OCR settings..."),await e.loadLanguage(y.language),await e.initialize(y.language),await e.setParameters({tessedit_pageseg_mode:y.psm,tessedit_ocr_engine_mode:y.oem,tessedit_char_whitelist:y.whitelist,tessedit_char_blacklist:y.blacklist}),A("Scanning image...");let u=(await e.recognize(i)).data.lines.filter(d=>d.confidence>=F).map(d=>({text:d.text.trim(),confidence:Math.round(d.confidence),bbox:d.bbox,words:d.words})).filter(d=>d.text.length>2);I(u),A(""),await e.terminate(),o&&o(u)}catch(n){console.error("OCR processing failed:",n),A(""),alert("OCR processing failed. Please try again.")}finally{f(!1)}},J=i=>{let n=i.toLowerCase().trim();return l.find(e=>e.title.toLowerCase().includes(n)||n.includes(e.title.toLowerCase()))},O=async(i,n=1)=>{var e,a;try{(await fetch(`${(e=window.pitApp)==null?void 0:e.restUrl}items`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":(a=window.pitApp)==null?void 0:a.nonce},body:JSON.stringify({title:i.text,qty:n,purchased:!0})})).ok&&I(d=>d.filter(r=>r!==i))}catch(u){console.error("Failed to add item:",u)}},z=({isOpen:i,onClose:n})=>i?t.default.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},t.default.createElement("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4"},t.default.createElement("div",{className:"flex justify-between items-center mb-6"},t.default.createElement("h3",{className:"text-lg font-semibold"},"OCR Settings"),t.default.createElement("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded"},t.default.createElement(j,{className:"h-5 w-5"}))),t.default.createElement("div",{className:"space-y-4"},t.default.createElement("div",null,t.default.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Confidence Threshold: ",F,"%"),t.default.createElement("input",{type:"range",min:"30",max:"95",value:F,onChange:e=>m(parseInt(e.target.value)),className:"w-full"}),t.default.createElement("div",{className:"flex justify-between text-xs text-gray-500 mt-1"},t.default.createElement("span",null,"Less Strict"),t.default.createElement("span",null,"More Strict"))),t.default.createElement("div",null,t.default.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Language"),t.default.createElement("select",{value:y.language,onChange:e=>T(a=>({...a,language:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md"},t.default.createElement("option",{value:"eng"},"English"),t.default.createElement("option",{value:"spa"},"Spanish"),t.default.createElement("option",{value:"fra"},"French"),t.default.createElement("option",{value:"deu"},"German"),t.default.createElement("option",{value:"ita"},"Italian"))),t.default.createElement("div",null,t.default.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Page Segmentation Mode"),t.default.createElement("select",{value:y.psm,onChange:e=>T(a=>({...a,psm:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md"},t.default.createElement("option",{value:"3"},"Fully automatic"),t.default.createElement("option",{value:"6"},"Single block (default)"),t.default.createElement("option",{value:"7"},"Single text line"),t.default.createElement("option",{value:"8"},"Single word"),t.default.createElement("option",{value:"11"},"Sparse text"),t.default.createElement("option",{value:"13"},"Raw line")))),t.default.createElement("div",{className:"flex justify-end space-x-3 mt-6"},t.default.createElement("button",{onClick:n,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50"},"Cancel"),t.default.createElement("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"},"Save Settings")))):null,[Q,$]=(0,t.useState)(!1),[X,E]=(0,t.useState)(!1);return t.default.createElement("div",{className:"space-y-6"},t.default.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},t.default.createElement("div",{className:"flex justify-between items-center"},t.default.createElement("div",null,t.default.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Receipt Scanner"),t.default.createElement("p",{className:"text-gray-600 mt-1"},"Scan receipts to automatically add items to your inventory")),t.default.createElement("button",{onClick:()=>$(!0),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg"},t.default.createElement(ue,{className:"h-5 w-5"})))),t.default.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},t.default.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},t.default.createElement("div",{className:"text-center"},t.default.createElement(ae,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),t.default.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"Take Photo"),t.default.createElement("p",{className:"text-gray-600 text-sm mb-4"},"Use your camera to capture receipts directly"),t.default.createElement("button",{onClick:()=>{E(!0),q()},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Open Camera"))),t.default.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},t.default.createElement("div",{className:"text-center"},t.default.createElement(le,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),t.default.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"Upload Image"),t.default.createElement("p",{className:"text-gray-600 text-sm mb-4"},"Select an image file from your device"),t.default.createElement("input",{ref:C,type:"file",accept:"image/*",onChange:G,className:"hidden"}),t.default.createElement("button",{onClick:()=>{var i;return(i=C.current)==null?void 0:i.click()},className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"},"Choose File")))),X&&t.default.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50"},t.default.createElement("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4"},t.default.createElement("div",{className:"flex justify-between items-center mb-4"},t.default.createElement("h3",{className:"text-lg font-semibold"},"Camera"),t.default.createElement("button",{onClick:()=>{E(!1),H()},className:"p-1 hover:bg-gray-100 rounded"},t.default.createElement(j,{className:"h-5 w-5"}))),t.default.createElement("div",{className:"relative"},t.default.createElement("video",{ref:x,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),t.default.createElement("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2"},t.default.createElement("button",{onClick:V,className:"w-16 h-16 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow flex items-center justify-center"},t.default.createElement("div",{className:"w-12 h-12 bg-blue-600 rounded-full"})))))),b&&t.default.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},t.default.createElement("h3",{className:"font-semibold text-gray-900 mb-4"},"Image Preview"),t.default.createElement("div",{className:"flex justify-center"},t.default.createElement("img",{src:b,alt:"Receipt preview",className:"max-w-full max-h-96 object-contain rounded-lg border border-gray-300"}))),s&&t.default.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},t.default.createElement("div",{className:"flex items-center justify-center space-x-3"},t.default.createElement(W,{className:"h-6 w-6 animate-spin text-blue-600"}),t.default.createElement("div",null,t.default.createElement("p",{className:"font-medium text-gray-900"},"Processing Image..."),t.default.createElement("p",{className:"text-sm text-gray-600"},S))),t.default.createElement("div",{className:"mt-4 bg-gray-200 rounded-full h-2"},t.default.createElement("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"60%"}}))),p.length>0&&t.default.createElement("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200"},t.default.createElement("div",{className:"flex justify-between items-center mb-6"},t.default.createElement("h3",{className:"font-semibold text-gray-900"},"Scanned Items (",p.length,")"),t.default.createElement("div",{className:"flex items-center space-x-2 text-sm text-gray-600"},t.default.createElement(de,{className:"h-4 w-4"}),t.default.createElement("span",null,"Min confidence: ",F,"%"))),t.default.createElement("div",{className:"space-y-3"},p.map((i,n)=>{let e=J(i.text);return t.default.createElement("div",{key:n,className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-gray-300 transition-colors"},t.default.createElement("div",{className:"flex-1"},t.default.createElement("div",{className:"flex items-center space-x-3"},t.default.createElement("div",{className:"flex-1"},t.default.createElement("p",{className:"font-medium text-gray-900"},i.text),t.default.createElement("div",{className:"flex items-center space-x-4 mt-1"},t.default.createElement("span",{className:`text-xs px-2 py-1 rounded-full ${i.confidence>=80?"bg-green-100 text-green-700":i.confidence>=60?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`},i.confidence,"% confident"),e&&t.default.createElement("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full"},"Matches: ",e.title))))),t.default.createElement("div",{className:"flex items-center space-x-2 ml-4"},t.default.createElement("input",{type:"number",defaultValue:"1",min:"1",className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded",id:`qty-${n}`}),t.default.createElement("button",{onClick:()=>{let a=document.getElementById(`qty-${n}`).value;O(i,parseInt(a)||1)},className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors flex items-center space-x-1"},t.default.createElement(oe,{className:"h-3 w-3"}),t.default.createElement("span",null,"Add")),t.default.createElement("button",{onClick:()=>I(a=>a.filter((u,d)=>d!==n)),className:"p-1 text-gray-400 hover:text-red-500 transition-colors"},t.default.createElement(j,{className:"h-4 w-4"}))))})),p.length>0&&t.default.createElement("div",{className:"flex justify-center mt-6"},t.default.createElement("button",{onClick:()=>{p.forEach((i,n)=>{let e=document.getElementById(`qty-${n}`),a=e&&parseInt(e.value)||1;O(i,a)})},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"},t.default.createElement(te,{className:"h-4 w-4"}),t.default.createElement("span",null,"Add All Items")))),t.default.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6"},t.default.createElement("div",{className:"flex items-start space-x-3"},t.default.createElement(N,{className:"h-5 w-5 text-blue-600 mt-0.5"}),t.default.createElement("div",null,t.default.createElement("h4",{className:"font-medium text-blue-900"},"OCR Tips for Best Results"),t.default.createElement("ul",{className:"text-sm text-blue-800 mt-2 space-y-1"},t.default.createElement("li",null,"\u2022 Ensure good lighting and avoid shadows"),t.default.createElement("li",null,"\u2022 Keep the camera steady and receipt flat"),t.default.createElement("li",null,"\u2022 Make sure text is clearly visible and in focus"),t.default.createElement("li",null,"\u2022 Crop images to show only the receipt area"),t.default.createElement("li",null,"\u2022 Use high resolution images when possible"))))),t.default.createElement("canvas",{ref:w,style:{display:"none"}}),t.default.createElement(z,{isOpen:Q,onClose:()=>$(!1)}))},Ca=Lt;var ha=document.getElementById("pit-ocr-scanner"),ga;if(ha){let o=(0,wa.createRoot)(ha),l=((ga=window.pitApp)==null?void 0:ga.items)||[];o.render(Sa.default.createElement(Ca,{items:l}))}})();
/*! Bundled license information:

lucide-react/dist/esm/shared/src/utils.js:
lucide-react/dist/esm/defaultAttributes.js:
lucide-react/dist/esm/Icon.js:
lucide-react/dist/esm/createLucideIcon.js:
lucide-react/dist/esm/icons/camera.js:
lucide-react/dist/esm/icons/check.js:
lucide-react/dist/esm/icons/circle-alert.js:
lucide-react/dist/esm/icons/loader-circle.js:
lucide-react/dist/esm/icons/plus.js:
lucide-react/dist/esm/icons/settings.js:
lucide-react/dist/esm/icons/upload.js:
lucide-react/dist/esm/icons/x.js:
lucide-react/dist/esm/icons/zap.js:
lucide-react/dist/esm/lucide-react.js:
  (**
   * @license lucide-react v0.541.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   *)
*/
